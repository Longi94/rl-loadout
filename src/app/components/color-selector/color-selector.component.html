<div class="color-selector-container">
  <table>
    <tr *ngFor="let key of objectKeys(colors)">
      <td>
        <span class="color-label">{{colors[key].label}}</span>
      </td>
      <td>
        <div class="color-picker-button" [(colorPicker)]="colors[key].value" [style.background]="colors[key].value"
          (colorPickerChange)="colorChanged(colors[key].value, key)" cpAlphaChannel="disabled">
        </div>
      </td>
    </tr>
  </table>

  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header [style.background]="colors.primary.value"
        [ngClass]="{'dark-color': colors.primary.textColor === 'white', 'bright-color': colors.primary.textColor === 'black'}">
        <mat-panel-title>Primary</mat-panel-title>
      </mat-expansion-panel-header>

      <div class="color-expansion-content">
        <div class="primary-color-container">
          <div class="color-picker-button" *ngFor="let color of blueColors" [style.background]="color"
            (click)="selectColor($event, 'primary', color)">
          </div>
        </div>
        <div class="primary-color-container">
          <div class="color-picker-button" *ngFor="let color of orangeColors" [style.background]="color"
            (click)="selectColor($event, 'primary', color)">
          </div>
        </div>
        <div (click)="$event.stopPropagation()" class="dropdown-button">
          <button mat-button
            [(colorPicker)]="colors['primary'].value"
            (colorPickerChange)="colorChanged(colors['primary'].value, 'primary')"
                  cpAlphaChannel="disabled">Custom
          </button>
        </div>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header [style.background]="colors.accent.value"
        [ngClass]="{'dark-color': colors.accent.textColor === 'white', 'bright-color': colors.accent.textColor === 'black'}">
        <mat-panel-title>Accent</mat-panel-title>
      </mat-expansion-panel-header>

      <div class="color-expansion-content">
        <div class="accent-color-container">
          <div class="color-picker-button" *ngFor="let color of accentColors" [style.background]="color"
            (click)="selectColor($event, 'accent', color)">
          </div>
        </div>
        <div (click)="$event.stopPropagation()" class="dropdown-button">
          <button mat-button
            [(colorPicker)]="colors['accent'].value"
            (colorPickerChange)="colorChanged(colors['accent'].value, 'accent')"
                  cpAlphaChannel="disabled">Custom
          </button>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
